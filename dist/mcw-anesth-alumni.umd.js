var ne=Object.defineProperty;var yt=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var bt=(d,h,g)=>h in d?ne(d,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[h]=g,O=(d,h)=>{for(var g in h||(h={}))oe.call(h,g)&&bt(d,g,h[g]);if(yt)for(var g of yt(h))ie.call(h,g)&&bt(d,g,h[g]);return d};(function(d){typeof define=="function"&&define.amd?define(d):d()})(function(){"use strict";function d(){}function h(t){return t()}function g(){return Object.create(null)}function T(t){t.forEach(h)}function wt(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function kt(t){return Object.keys(t).length===0}function $t(t,...e){if(t==null)return d;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function tt(t,e,n){t.$$.on_destroy.push($t(e,n))}function w(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode.removeChild(t)}function B(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function et(){return C(" ")}function Ct(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function vt(t){return Array.from(t.childNodes)}function nt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ot(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function Lt(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}let P;function q(t){P=t}function it(){if(!P)throw new Error("Function called outside component initialization");return P}function Et(t){it().$$.on_mount.push(t)}function rt(){const t=it();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=Lt(e,n);o.slice().forEach(a=>{a.call(t,i)})}}}const x=[],W=[],I=[],st=[],Tt=Promise.resolve();let F=!1;function zt(){F||(F=!0,Tt.then(lt))}function H(t){I.push(t)}let R=!1;const V=new Set;function lt(){if(!R){R=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];q(e),Mt(e.$$)}for(q(null),x.length=0;W.length;)W.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];V.has(e)||(V.add(e),e())}I.length=0}while(x.length);for(;st.length;)st.pop()();F=!1,R=!1,V.clear()}}function Mt(t){if(t.fragment!==null){t.update(),T(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const U=new Set;let k;function xt(){k={r:0,c:[],p:k}}function At(){k.r||T(k.c),k=k.p}function A(t,e){t&&t.i&&(U.delete(t),t.i(e))}function D(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),k.c.push(()=>{U.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const St=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function ut(t){t&&t.c()}function G(t,e,n,o){const{fragment:i,on_mount:a,on_destroy:c,after_update:r}=t.$$;i&&i.m(e,n),o||H(()=>{const l=a.map(h).filter(wt);c?c.push(...l):T(l),t.$$.on_mount=[]}),r.forEach(H)}function J(t,e){const n=t.$$;n.fragment!==null&&(T(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Zt(t,e){t.$$.dirty[0]===-1&&(x.push(t),zt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,o,i,a,c,r=[-1]){const l=P;q(t);const s=t.$$={fragment:null,ctx:null,props:a,update:d,not_equal:i,bound:g(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:g(),dirty:r,skip_bound:!1,root:e.target||l.$$.root};c&&c(s.root);let y=!1;if(s.ctx=n?n(t,e.props||{},(_,p,...b)=>{const S=b.length?b[0]:p;return s.ctx&&i(s.ctx[_],s.ctx[_]=S)&&(!s.skip_bound&&s.bound[_]&&s.bound[_](S),y&&Zt(t,_)),p}):[],s.update(),y=!0,T(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){const _=vt(e.target);s.fragment&&s.fragment.l(_),_.forEach(M)}else s.fragment&&s.fragment.c();e.intro&&A(t.$$.fragment),G(t,e.target,e.anchor,e.customElement),lt()}q(l)}class Q{$destroy(){J(this,1),this.$destroy=d}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!kt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Nt(t,e,n){let o=t.length;function i(){o=--o,o<1&&n()}e()?n():t.forEach(({type:a,url:c,options:r={async:!0,defer:!0}})=>{const l=a==="script",s=document.createElement(l?"script":"link");l?(s.src=c,s.async=r.async,s.defer=r.defer):(s.rel="stylesheet",s.href=c),s.onload=i,document.body.appendChild(s)})}const L=[];function ct(t,e=d){let n;const o=new Set;function i(r){if(z(t,r)&&(t=r,n)){const l=!L.length;for(const s of o)s[1](),L.push(s,t);if(l){for(let s=0;s<L.length;s+=2)L[s][0](L[s+1]);L.length=0}}}function a(r){i(r(t))}function c(r,l=d){const s=[r,l];return o.add(s),o.size===1&&(n=e(i)||d),r(t),()=>{o.delete(s),o.size===0&&(n(),n=null)}}return{set:i,update:a,subscribe:c}}const at=ct(!1),ft=ct(!1);function Ot(t,e,n){let o,i;tt(t,ft,c=>n(3,o=c)),tt(t,at,c=>n(0,i=c));const a=rt();return Et(()=>{i&&a("ready"),o||(ft.set(!0),Nt([{type:"style",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"},{type:"script",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"}],()=>!1,()=>(at.set(!0),!0)))}),t.$$.update=()=>{t.$$.dirty&1&&i&&a("ready")},[i]}class jt extends Q{constructor(e){super();K(this,e,Ot,null,z,{})}}var re="";const{window:Bt}=St;function Pt(t){let e,n,o,i,a,c;return o=new jt({}),o.$on("ready",t[1]),{c(){e=B("div"),n=et(),ut(o.$$.fragment),v(e,"class","map svelte-1xdqv5q"),v(e,"id",t[0])},m(r,l){j(r,e,l),t[8](e),j(r,n,l),G(o,r,l),i=!0,a||(c=Ct(Bt,"resize",t[2]),a=!0)},p(r,l){(!i||l[0]&1)&&v(e,"id",r[0])},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){D(o.$$.fragment,r),i=!1},d(r){r&&M(e),t[8](null),r&&M(n),J(o,r),a=!1,c()}}}function qt(t,e,n){let o={},i="";const a=rt();let{options:c}=e,{zoom:r=13,maxZoom:l=19,minZoom:s=1,mapID:y="map",attributionControl:_=!0,center:p=[0,0],markers:b,circles:S,recenter:Ht=!1,scrollWheelZoom:Rt=!0,tilelayers:mt=[{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],controls:$={zoomControl:!0,position:"topleft",scale:!1}}=c,Z,N=[],Vt=[],ht,Gt={iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[1,-34],shadowSize:[41,41]};function Jt(){setTimeout(()=>{o=window.L,Yt(),a("ready")},1)}function X(f,u){f.bindPopup(u.text,O({closeOnClick:!1,autoClose:!1},u)).addTo(i),u.isOpen&&f.openPopup()}function Y(f,u){f.bindTooltip(u.text,O({},u)).addTo(i),u.isOpen&&f.openTooltip()}let E=[];const gt=f=>{f.markers.map((u,m)=>{u.icon&&(Z=o.icon(u.icon)),E[m]=new o.marker([u.lat,u.lng],{icon:Z}).addTo(i),u.popup&&X(E[m],u.popup),u.tooltip&&Y(E[m],u.tooltip)})};let _t=!1;const Kt=()=>i,Qt=f=>{_t||(gt(f),_t=!0),f.markers.map((u,m)=>{E[m].setLatLng(u).update(),E[m].addTo(i)})},Xt=(f=5)=>{i.setZoom(f)};function Yt(){i=o.map(y,{attributionControl:_,zoomControl:$.zoomControl,minZoom:s,maxZoom:l}).setView(p,r),E=o.marker([0,0]),mt&&mt.map(u=>{o.tileLayer(u.url,O({},u)).addTo(i)}),Rt||i.scrollWheelZoom.disable();let f=o.control;return $.zoomControl||f().remove(),$.scale&&f.scale({position:$.position}).addTo(i),$.zoomControl&&$.position&&(i.removeControl(i.zoomControl),f.zoom({position:$.position}).addTo(i)),b&&b.map(u=>{N.push([u.lat,u.lng]),u.icon?Z=o.icon(u.icon):Z=o.icon(Gt);let m=new o.marker([u.lat,u.lng],{icon:Z});u.popup&&X(m,u.popup),u.tooltip&&Y(m,u.tooltip),m.addTo(i)}),S&&S.map(u=>{Vt.push([u.lat,u.lng]);let m=new o.circle([u.lat,u.lng],O({},u));u.popup&&X(m,u.popup),u.tooltip&&Y(m,u.tooltip),m.addTo(i)}),Ht&&(N.length==1?(i.panTo(o.latLng(N[0][0],N[0][1])),i.setZoom(r)):(ht=new o.LatLngBounds(N),i.fitBounds(ht))),i}function te(){i&&i.invalidateSize()}function ee(f){W[f?"unshift":"push"](()=>{y=f,n(0,y)})}return t.$$set=f=>{"options"in f&&n(3,c=f.options)},[y,Jt,te,c,gt,Kt,Qt,Xt,ee]}class It extends Q{constructor(e){super();K(this,e,qt,Pt,z,{options:3,addMarker:4,getMap:5,updateMarkers:6,setZoom:7},null,[-1,-1])}get addMarker(){return this.$$.ctx[4]}get getMap(){return this.$$.ctx[5]}get updateMarkers(){return this.$$.ctx[6]}get setZoom(){return this.$$.ctx[7]}}var se="";function pt(t){let e,n;return e=new It({props:{options:t[4]}}),{c(){ut(e.$$.fragment)},m(o,i){G(e,o,i),n=!0},p(o,i){const a={};i&16&&(a.options=o[4]),e.$set(a)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){D(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function dt(t){let e,n,o,i,a,c;return{c(){e=B("figcaption"),n=C("Showing "),o=C(t[2]),i=C(` alumni
			in `),a=C(t[3]),c=C(" cities"),v(e,"class","svelte-14gin0o")},m(r,l){j(r,e,l),w(e,n),w(e,o),w(e,i),w(e,a),w(e,c)},p(r,l){l&4&&nt(o,r[2]),l&8&&nt(a,r[3])},d(r){r&&M(e)}}}function Ut(t){let e,n,o=t[4],i,a,c=pt(t),r=t[0]&&t[2]&&dt(t);return{c(){e=B("figure"),n=B("div"),c.c(),i=et(),r&&r.c(),ot(n,"height",t[1]),v(n,"class","svelte-14gin0o"),v(e,"class","svelte-14gin0o")},m(l,s){j(l,e,s),w(e,n),c.m(n,null),w(e,i),r&&r.m(e,null),a=!0},p(l,[s]){s&16&&z(o,o=l[4])?(xt(),D(c,1,1,d),At(),c=pt(l),c.c(),A(c),c.m(n,null)):c.p(l,s),(!a||s&2)&&ot(n,"height",l[1]),l[0]&&l[2]?r?r.p(l,s):(r=dt(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(l){a||(A(c),a=!0)},o(l){D(c),a=!1},d(l){l&&M(e),c.d(l),r&&r.d()}}}function Dt(t,e,n){let{height:o=600,showCaption:i=!0}=e,a;const c=[43.0494122,-88.0079271];let r=[],l=0,s=0,y;_();async function _(){try{const b=await(await fetch("/wp-json/mcw-anesth-alumni/v1/locations")).json();n(6,r=b)}catch(p){console.error(p)}}return t.$$set=p=>{"height"in p&&n(5,o=p.height),"showCaption"in p&&n(0,i=p.showCaption)},t.$$.update=()=>{t.$$.dirty&32&&n(1,a=Number.isInteger(Number(o))?`${Number(o)}px`:o),t.$$.dirty&64&&n(2,l=r.reduce((p,b)=>p+Number(b.count),0)),t.$$.dirty&64&&n(3,s=r.length),t.$$.dirty&64&&n(4,y={center:c,recenter:!0,markers:r.map(p=>({lat:p.latitude,lng:p.longitude,tooltip:{text:`${p.city}, ${p.state}: ${p.count} ${p.count===1?"alum":"alumni"}`}}))})},[i,a,l,s,y,o,r]}class Wt extends Q{constructor(e){super();K(this,e,Dt,Ut,z,{height:5,showCaption:0})}}function Ft(t){let e;return"showCaption"in t.dataset&&(e=t.dataset.showCaption,e==="0"||e==="false"?e=!1:e=Boolean(e)),new Wt({target:t,props:{height:t.dataset.height,showCaption:e}})}Ft(document.getElementById("mcw-anesth-alumni-map"))});
